<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>FoodR</title>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2lbvHriKM5pFiQTBYAiSGeuKAJPe2IFU&libraries=places"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />
	<script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>
	<div id="root">

		<button onclick="getLocation()">Use My Location and get data!</button>

		<div id="mapContainer" style="width:100%;height:400px;"></div>
		<h2 id="title">No Results</h2>
	</div>
	<script>
		const app = new Vue({
			el: "#root",
			data: {
				userLoc = new google.maps.LatLng(userLat, userLng),
				mapProp = {
					center: userLoc,
					zoom: 13,
				},
				map = new google.maps.Map(document.getElementById("mapContainer"), mapProp),
				marker = new google.maps.Marker({
					position: {
						lat: userLat,
						lng: userLng
					},
					map,
					title: 'You are here!'
				}),
				service = new google.maps.places.PlacesService(map),
				request = {
					location: userLoc,
					radius: '1000',
					type: ['restaurant']
				},
				//					service.nearbySearch(request, callback)
			},
			methods: {
				callback(res) {
					console.log("callback has been called");
					document.querySelector('#title').innerHTML = `Found ${results.length} places`;
					if (status == google.maps.places.PlacesServiceStatus.OK) {
						for (let i = 0; i < results.length; i++) {
							console.dir(results[i]);
						}
					}
				}
			}

		})
	</script>

	<script src="//unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
	<script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
</body>

</html>